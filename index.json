[{"content":" In praise of memories I\u0026rsquo;m Yao. I\u0026rsquo;m originally from Taiyuan and currently reside in Shanghai.\nI\u0026rsquo;ve achieved, and I\u0026rsquo;ve lost.\nKeep walking, in praise of old memories\u0026hellip;\nMy CV\nFavorite channels:\nThomas Flight All about cinema GeoWizard Geoguessr and more 稚嫩的魔法师 Paradox games Eddie Woo Picked up many math from him ","permalink":"https://actuallyyao.com/about/","summary":" In praise of memories I\u0026rsquo;m Yao. I\u0026rsquo;m originally from Taiyuan and currently reside in Shanghai.\nI\u0026rsquo;ve achieved, and I\u0026rsquo;ve lost.\nKeep walking, in praise of old memories\u0026hellip;\nMy CV\nFavorite channels:\nThomas Flight All about cinema GeoWizard Geoguessr and more 稚嫩的魔法师 Paradox games Eddie Woo Picked up many math from him ","title":"About"},{"content":"","permalink":"https://actuallyyao.com/posts/tech/hugo_first/","summary":"","title":"Building a Hugo blog from scratch"},{"content":"","permalink":"https://actuallyyao.com/tags/","summary":"","title":"Tags"},{"content":"Window Function 先分举报量分层取各个举报原因对应的举报次数，然后通过开窗函数取每个举报量分层中举报次数排第一的举报原因\n1SELECT 2 DISTINCT report_cnt_range, 3 report_reason_name, 4 report_cnt, 5 ROW_NUMBER () OVER ( 6 PARTITION BY report_cnt_range 7 ORDER BY 8 report_cnt 9 ) as rank 10FROM 11 ( 12 SELECT 13 DISTINCT user_range.report_cnt_range as report_cnt_range, 14 report_detail.report_reason_name as report_reason_name, 15 COUNT (DISTINCT report_detail.object_id) as report_cnt 16 FROM 17 XXX 18 ) 19WHERE 20 rank = 1 WR-A Sampling Use log to retain precision\n1select 2 room_id, 3 log(rand) *(1 /(vv / vv_all)) as key 4from 5 ( 6 select 7 type, 8 room_id, 9 vv, 10 sum(vv) over(partition by type) as all_vv, 11 rand() as rand 12 from 13 ( 14 select 15 \u0026#39;all\u0026#39; as type, 16 room_id, 17 vv 18 from 19 room_id_vv 20 ) 21 ) 22order by 23 key desc 24limit 25 100 COLLECT_SET and SORT_ARRAY 如果需要 array 中的元素保持一定的顺序，可以使用 sort_array 函数来实现：\nsort_array(Array\u0026lt;T\u0026gt; a) 根据数组元素的自然顺序按升序对输入数组排序并返回它\nselect sort_array(collect_set(col))\n","permalink":"https://actuallyyao.com/posts/data/sql_save/","summary":"Window Function 先分举报量分层取各个举报原因对应的举报次数，然后通过开窗函数取每个举报量分层中举报次数排第一的举报原因\n1SELECT 2 DISTINCT report_cnt_range, 3 report_reason_name, 4 report_cnt, 5 ROW_NUMBER () OVER ( 6 PARTITION BY report_cnt_range 7 ORDER BY 8 report_cnt 9 ) as rank 10FROM 11 ( 12 SELECT 13 DISTINCT user_range.report_cnt_range as report_cnt_range, 14 report_detail.report_reason_name as report_reason_name, 15 COUNT (DISTINCT report_detail.object_id) as report_cnt 16 FROM 17 XXX 18 ) 19WHERE 20 rank = 1 WR-A Sampling Use log to retain precision\n1select 2 room_id, 3 log(rand) *(1 /(vv / vv_all)) as key 4from 5 ( 6 select 7 type, 8 room_id, 9 vv, 10 sum(vv) over(partition by type) as all_vv, 11 rand() as rand 12 from 13 ( 14 select 15 \u0026#39;all\u0026#39; as type, 16 room_id, 17 vv 18 from 19 room_id_vv 20 ) 21 ) 22order by 23 key desc 24limit 25 100 COLLECT_SET and SORT_ARRAY 如果需要 array 中的元素保持一定的顺序，可以使用 sort_array 函数来实现：","title":"Useful SQL"},{"content":"Task 1 Prompt The graph below shows the proportion of four different materials that were recycled from 1982 to 2010 in a particular country.\nSummarize the information by selecting and reporting the main features, and make comparisons where relevant.\nWrite at least 150 words.\nRecycle Answer Throughout the decades, recycling rates for all the listed materials have been increasing in this country. To the citizens, this should be a good thing. However, there are some additional points worth noting.\nFirst of all, we can see that even though all the plotted materials are recycled by a greater proportion as time passes, there are significant differences among them. In comparison, glass containers and aluminum cans have witnessed larger growth in terms of proportion recycled than paper, cardboard and plastics. This was probably due to increased awareness of recycling them or critical advancement in the technologies needed to recycle them. Also, the recycling rate of glass and aluminum plummeted in earth 1990s, resulting from the likely intensified industrialization of the country.[^2]\nSecond, the growth of paper\u0026rsquo; and cardboard\u0026rsquo;s recycling rate was not significant compared with some other materials, but the exact number topped the list at around 70%. The reason might be that paper-made products are easier to recycle but further increasing the recycling rate require great technological advancement, which is challenging to achieve.\nFinally, plastics have been recycled more but the recycling rate stood below 10% by the end of the first decade of this century. Plastics are not naturally decomposable so technological or chemical means need to be invented to recycle plastics more, and this may be the reason why this country has struggled to step up its recycling. (233 words)\nHigh band sample Sample 1 The line graph illustrates the percentage of 4 things – paper \u0026amp; cardboard, glass containers, aluminium cans and plastics – that were recycled in an unspecified country between 1982 and 2010.\nOverall, when compared to 1982, the total percentage of recycling increased over the years. While the amount / proportion of recycled aluminum cans and plastics had seen a steady increase, paper \u0026amp; cardboard and glass containers had some fluctuations until 1994.\nThe percentage of recycled aluminium cans increased from just 5% in 1983 to 45% in 2010. Plastics recycling also saw an improvement from less than 5% to 9% in 2010.\nIn contrast, glass containers reuse had initially fallen by 10% in 8 years but then, from 1990 it had a steady rise and reached 60% in 2010. Paper \u0026amp; cardboard recycling had also seen fluctuations in the beginning but then reached its peak at 80% in 1994 and then steadily dropped to reach 70% in 2010.\nEven though there were fluctuations in the recycling rate of paper and cardboard and glass containers over the given period, the general trend was upward.\nWhile paper and cardboard were the most recycled items throughout the given period, plastic was the least recycled thing. (205 words)\nSample 2 The chart shows the percentage of paper and cardboard, glass containers, aluminum cans and plastics that were recycled in one country between 1982 and 2010.\nIn 1982, about 65% of paper and cardboard was recycled. This figure fluctuated before rising steeply to reach a peak 80% in 1994. From then on, however, it decreased steadily to a level of 70% in 2010. In 1982, half of all glass containers were recycled; after dipping to a low of 40% in 1990, the glass recycling rate gradually increased to 60% by 2010.\nAluminum cans were first recycled in 1986, starting at about 5%, but this figure climbed rapidly over 25 years and by 2010 it had reached 45%. Recycling of plastics, on the other hand, was not introduced until 1990 and, although the growth in this category was also constant, it was very slow, rising from about 2% to around 8% over the period.\nOverall, the proportion of paper and cardboard that was recycled was the highest of the four class of material, but this category experienced a decline after 1994, whereas there was a continuing upward trend in the recycling of the other materials. (200 words)\nTask 2 Prompt The diagram shows the different stages in the production of woolen goods.\nSummarize the information by selecting and reporting the main features and make comparisons where relevant.\nYou should write at least 150 words.\nWoolen Answer The provided diagram illustrates the process of manufacturing products from wool.\nIt is shown in the chart that raw materials are first sheared from sheep before being cleaned and dried. This is followed by the machines spinning process which creates the first divergence in the chart. At this point, the major product is wool waiting for later use, while some materials are made into string which is recycled.\nContinue on the main process, the next products are tufts of wool, which are later moved into storage, We can also see that, at about this stage, some of the wool is dyed.\nGoing forward, balls of yarn are made, followed by either knitting or the production of woolen goods such as carpets and jackets.\nOverall, the diagram indicates that it requires many stages to go from sheep to end products. On top of that, along the process of woolen goods production, several in-between products are manufactured. (155 words)\n","permalink":"https://actuallyyao.com/posts/blog/writing_prac_1/","summary":"Task 1 Prompt The graph below shows the proportion of four different materials that were recycled from 1982 to 2010 in a particular country.\nSummarize the information by selecting and reporting the main features, and make comparisons where relevant.\nWrite at least 150 words.\nRecycle Answer Throughout the decades, recycling rates for all the listed materials have been increasing in this country. To the citizens, this should be a good thing.","title":"Writing Practice I"},{"content":"2019年毕业进入互联网行业，虽然不是技术岗位，但日常的工作离不开数据。\n随着工作年限的提升，工作对我数据能力的要求也在迅速上升。从一开始使用公司内部的BI平台做数据查询、日常观测Tableau看板advanced level的SQL。\n第一次接触SQL已经是工作之后，那时看到数据分析师的电脑屏幕上总是密密麻麻的代码，不仅觉得无比高端，同时也觉得与自己无关。\n直到项目上需要取数DA排期排不上，才第一次想，需求也不复杂，要不自己试试。于是一边网上看教程（这里主要是W3Cschool），一边看着之前DA给写过的SQL照猫画虎，终于写成了自己的第一个SQL。原本觉得和自己无关的代码，突然可以自己写出来，还是很激动的，并且也并不觉得很难。从此，我便能自己写就自己写，不知不觉节省了不少等排期的功夫。\n来到2021年，我逐渐觉得自己的SQL能力遇到了瓶颈，于是想找一找网课做系统性的学习。这里不记得如何找到了DataCamp，它也是这篇博客的主角。\nDataCamp DataCamp offers interactive R, Python, Sheets, SQL and shell courses. 这里不得不提DataCamp的Tracks。网站针对你想要学习到的技能（Skill Tracks），或成为的角色（Career Tracks），把需要学习的课程按照一定顺序排列起来组成Tracks，交给你一步一步学，实质其实就是课程的list。当时的我想要系统学习SQL，便enroll了名为SQL Fundamentals的Skill Track。\n我们先来看看这个Track的介绍：\nGain the fundamental skills you need to interact with and query your data in SQL—a powerful language used by data-driven businesses large and small to explore and manipulate their data to extract meaningful insights.\nIn this track, you\u0026rsquo;ll learn the skills you need to level up your data skills and leave Excel behind you. Through hands-on exercises, you’ll discover how to quickly summarize, join tables, and use window functions and built-in PostgreSQL functions to analyze your data.\n从介绍可知，这个Track主要针对SQL零基础入门，从包含课程也可以看到，基本囊括了一个SQL新手需要学习的所有SQL知识（不过课程使用的PostgreSQL，我实际工作中用到的是hiveSQL，所以会发现一些进阶的函数两者不匹配，但相似度还是很高的）：\nIntermediate SQL Queries SQL for Joining Data Data Manipulation in SQL Functions for Manipulating Date in PostgreSQL ","permalink":"https://actuallyyao.com/posts/data/learn_data/","summary":"2019年毕业进入互联网行业，虽然不是技术岗位，但日常的工作离不开数据。\n随着工作年限的提升，工作对我数据能力的要求也在迅速上升。从一开始使用公司内部的BI平台做数据查询、日常观测Tableau看板advanced level的SQL。\n第一次接触SQL已经是工作之后，那时看到数据分析师的电脑屏幕上总是密密麻麻的代码，不仅觉得无比高端，同时也觉得与自己无关。\n直到项目上需要取数DA排期排不上，才第一次想，需求也不复杂，要不自己试试。于是一边网上看教程（这里主要是W3Cschool），一边看着之前DA给写过的SQL照猫画虎，终于写成了自己的第一个SQL。原本觉得和自己无关的代码，突然可以自己写出来，还是很激动的，并且也并不觉得很难。从此，我便能自己写就自己写，不知不觉节省了不少等排期的功夫。\n来到2021年，我逐渐觉得自己的SQL能力遇到了瓶颈，于是想找一找网课做系统性的学习。这里不记得如何找到了DataCamp，它也是这篇博客的主角。\nDataCamp DataCamp offers interactive R, Python, Sheets, SQL and shell courses. 这里不得不提DataCamp的Tracks。网站针对你想要学习到的技能（Skill Tracks），或成为的角色（Career Tracks），把需要学习的课程按照一定顺序排列起来组成Tracks，交给你一步一步学，实质其实就是课程的list。当时的我想要系统学习SQL，便enroll了名为SQL Fundamentals的Skill Track。\n我们先来看看这个Track的介绍：\nGain the fundamental skills you need to interact with and query your data in SQL—a powerful language used by data-driven businesses large and small to explore and manipulate their data to extract meaningful insights.\nIn this track, you\u0026rsquo;ll learn the skills you need to level up your data skills and leave Excel behind you.","title":"我是如何学习数据分析的"}]